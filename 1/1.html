<html>
<body>
<canvas id="canvas" width="200" height="200"></canvas>
<div id="div" style="width:200px;height:200px;border:solid 1px red;"></div>
<input type="text" id="textx" />
<input type="text" id="texty" />
<script>
const canvas=document.getElementById('canvas')
    const ct=canvas.getContext('2d')
    var cx=parseFloat(document.getElementById("textx"))
    var cy=parseFloat(document.getElementById("texty"))
    function f(x,c){    
let xr=x[0]
let xi=x[1]
return [xr*xr-xi*xi+c[0],2*xr*xi+c[1]]
}
    function abs(x){return Math.sqrt(x[0]*x[0]+x[1]*x[1]);}
    var maxiter=32
var escv=16
var constant=[cx,cy]
var R=50
function conv(x){
var isConv=true
var point=[(x[0]-100)/R,(x[1]-100)/R]
let ita=0
while(ita<maxiter){
if(abs(point)>escv){
isConv=false
break
}
point=f(point,constant)
ita++
}
return isConv
}
    function draw(){
for(var i=0;i<=200;i++){
for(var j=0;j<=200;j++){
if(conv([i,j])==true){
ct.fillRect(i,j,1,1)
}
}
}
}
draw()
var div1 = document.getElementById("div");
div1.onmousemove=function (event){
var event = event || window.event;
var tx = document.getElementById("textx");
var ty = document.getElementById("texty");
tx.value=event.offsetX/200;
ty.value=event.offsetY/200;
    }
</script>
</body>
</html>
